let products = 
[
    {
        title : "All Red Pedal Daypack",
        img : "https://images.dailyobjects.com/marche/product-images/1201/all-red-pedal-daypack-images/All-Red-Pedal-Daypack-vw.png?tr=cm-pad_resize,v-2,w-444,h-598,dpr-1",
        category : "backpack",
        price : 1699,
        prodId : 1,
        quantity : 1
    },
    {
        title : "Khaki Beige Pilot Backpack",
        img : "https://images.dailyobjects.com/marche/product-images/1201/dailyobjects-khaki-beige-pilot-backpack-images/DailyObjects-Khaki-Beige-City-Compact-Backpack.png?tr=cm-pad_resize,v-2,w-444,h-598,dpr-1",
        category : "backpack",
        price : 2199,
        prodId : 2,
        quantity : 1
    },
    {
        title : "Amber Taiga Backpack",
        img : "https://images.dailyobjects.com/marche/product-images/1201/amber-taiga-backpack-images/Amber-Taiga-Backpack-vw.png?tr=cm-pad_resize,v-2,w-444,h-598,dpr-1",
        category : "backpack",
        price : 3999,
        prodId : 3,
        quantity : 1
    },
    {
        title : "Green Scoot Backpack",
        img : "https://images.dailyobjects.com/marche/product-images/1201/green-scoot-backpack-images/Green-Scoot-Backpack.png?tr=cm-pad_resize,v-2,w-444,h-598,dpr-1",
        category : "backpack",
        price : 1299,
        prodId : 4,
        quantity : 1
    },
    {
        title : "Ivory - Navy 9 to 9 Backpack",
        img : "https://images.dailyobjects.com/marche/product-images/1201/natural-white---navy-9-to-9-backpack-images/Natural-White-Navy-9-to-9-Backpack.png?tr=cm-pad_resize,v-2,w-444,h-598,dpr-1",
        category : "backpack",
        price : 2499,
        prodId : 5,
        quantity : 1
    },
    {
        title : "Hunter Green Card Wallet",
        img : "https://images.dailyobjects.com/marche/product-images/1302/dailyobjects-hunter-green-skinnyfit-card-wallet-images/DailyObjects-Hunter-Green-SkinnyFit-Card-Wallet-vw.png?tr=cm-pad_resize,v-2,w-187,h-230,dpr-1",
        category : "wallet",
        price : 499,
        prodId : 6,
        quantity : 1
    },
    {
        title : "Langoor Idyll Tote",
        img : "https://images.dailyobjects.com/marche/product-images/1204/langoor-idyll-tote-images/White-Idyll-Tote.png?tr=cm-pad_resize,v-2,w-399,h-654,dpr-1",
        category : "backpack",
        price : 2250,
        prodId : 7,
        quantity : 1
    },
    {
        title : "Khaki Beige Buoy Tote Bag",
        img : "https://images.dailyobjects.com/marche/product-images/1204/langoor-idyll-tote-images/White-Idyll-Tote.png?tr=cm-pad_resize,v-2,w-399,h-654,dpr-1",
        category : "backpack",
        price : 2299,
        prodId : 8,
        quantity : 1
    },
    {
        title : "Black Deuce Apple WatchBand",
        img : "https://images.dailyobjects.com/marche/product-images/1801/black-deuce-apple-watchband-with-protective-bumper-case-49mm-images/Black-Deuce-Apple-WatchBand-with-Protective-Bumper-Case-49mm.png?tr=cm-pad_resize,v-2,w-399,h-654,dpr-1",
        category : "watchband",
        price : 999,
        prodId : 9,
        quantity : 1
    },
    {
        title : "Black-Orange Dual Lock Apple WatchBand",
        img : "https://images.dailyobjects.com/marche/product-images/1801/black-orange-dual-lock-apple-watchband-with-protective-bumper-case-40mm-images/Black-Orange-Dual-Lock-Apple-WatchBand-with-Protective-Bumper-Case-2n.png?tr=cm-pad_resize,v-2,w-399,h-654,dpr-1",
        category : "watchband",
        price : 899,
        prodId : 10,
        quantity : 1
    },
    {
        title : "Grey Pull Tab Nylon Weave Apple WatchBand",
        img : "https://images.dailyobjects.com/marche/product-images/1801/grey-pull-tab-nylon-weave-apple-watchband-38-40-41mm-images/Grey-Pull-Tab-Nylon-Weave-Apple-WatchBand.png?tr=cm-pad_resize,v-2,w-399,h-654,dpr-1",
        category : "watchband",
        price : 849,
        prodId : 11,
        quantity : 1
    },
    {
        title : "Green Ridge Loop Apple WatchBand",
        img : "https://images.dailyobjects.com/marche/product-images/1801/green-ridge-loop-apple-watchband-38-40-41mm-images/Olive-Ridge-Loop-Apple-WatchBand-3-view.png?tr=cm-pad_resize,v-2,w-399,h-654,dpr-1",
        category : "watchband",
        price : 899,
        prodId : 12,
        quantity : 1
    },
    {
        title : "Black-Lime Sports Silicone Apple WatchBand",
        img : "https://images.dailyobjects.com/marche/product-images/1801/black-lime-sports-silicone-apple-watchband-38-40-41mm-images/Black-Green-Ribbed-Silicone-Apple-WatchBand.png?tr=cm-pad_resize,v-2,w-399,h-654,dpr-1",
        category : "watchband",
        price : 1199,
        prodId : 13,
        quantity : 1
    },
    {
        title : "Black-Grey Annex Silicone WatchBand",
        img : "https://images.dailyobjects.com/marche/product-images/1801/black-grey-annex-silicone-watchband-for-samsung-oneplus-fitbit-smartwatches-20mm-images/Black-Grey-Annex-Silicone-WatchBand-for-20.png?tr=cm-pad_resize,v-2,w-399,h-654,dpr-1",
        category : "watchband",
        price : 699,
        prodId : 14,
        quantity : 1
    },
    {
        title : "Black Beat WatchBand",
        img : "https://images.dailyobjects.com/marche/product-images/1801/black-beat-watchband-for-samsung-oneplus-fitbit-smartwatches-20mm-images/Black-Beat-WatchBand-for-20-1.png?tr=cm-pad_resize,v-2,w-399,h-654,dpr-1",
        category : "watchband",
        price : 699,
        prodId : 15,
        quantity : 1
    },
    {
        title : "Blue Silicone Sport WatchBand",
        img : "https://images.dailyobjects.com/marche/product-images/1801/blue-silicone-sprot-universal-watchband-20mm-images/Blue-Silicone-Sprot-Universal-WatchBand-1.png?tr=cm-pad_resize,v-2,w-399,h-654,dpr-1",
        category : "watchband",
        price : 599,
        prodId : 16,
        quantity : 1
    },
    {
        title : "Gold Milanese Loop WatchBand",
        img : "https://images.dailyobjects.com/marche/product-images/1801/gold-milanese-loop-universal-watchband-20mm-images/Gold-Milanese-Loop-Universal-WatchBand-20mm-3.png?tr=cm-pad_resize,v-2,w-399,h-654,dpr-1",
        category : "watchband",
        price : 399,
        prodId : 17,
        quantity : 1
    },
    {
        title : "Blue Hybrid Clear Case Cover for iPhone 14",
        img : "https://images.dailyobjects.com/marche/product-images/1101/dailyobjects-blue-hybrid-clear-case-cover-for-iphone-14-images/DailyObjects-Blue-Hybrid-Clear-Case-Cover-for-iPhone-14.png?tr=cm-pad_resize,v-2,w-399,h-654,dpr-1",
        category : "case-cover",
        price : 699,
        prodId : 18,
        quantity : 1
    },
    {
        title : "Black Halo MagSafe",
        img : "https://images.dailyobjects.com/marche/product-images/1101/black-halo-magsafe-with-stand-case-cover-for-iphone-14-images/Black-Halo-MagStand-Phone-Case-Cover-For-iPhone-14-vw.png?tr=cm-pad_resize,v-2,w-399,h-654,dpr-1",
        category : "case-cover",
        price : 650,
        prodId : 19,
        quantity : 1
    },
    {
        title : "Bad-Guy Stride 2.0 Case Cover For iPhone 14",
        img : "https://images.dailyobjects.com/marche/product-images/1101/dailyobjects-bad-guy-stride-2-0-case-cover-for-iphone-14-images/DailyObjects-Bad-Guy-Stride-2-0-Case-Cover-For-iPhone-14.png?tr=cm-pad_resize,v-2,w-399,h-654,dpr-1",
        category : "case-cover",
        price : 630,
        prodId : 20,
        quantity : 1
    },
    {
        title : "Don-Da Stride 2.0 Case Cover For iPhone 14",
        img : "https://images.dailyobjects.com/marche/product-images/1101/dailyobjects-don-da-stride-2-0-case-cover-for-iphone-14-images/DailyObjects-Don-Da-Stride-2-0-Case-Cover-For-iPhone-14.png?tr=cm-pad_resize,v-2,w-399,h-654,dpr-1",
        category : "case-cover",
        price : 759,
        prodId : 21,
        quantity : 1
    },
    {
        title : "Black Flekt Silicone Case Cover",
        img : "https://images.dailyobjects.com/marche/product-images/1101/dailyobjects-black-flekt-silicone-case-cover-for-samsung-galaxy-s23-ultra-images/DailyObjects-Black-Flekt-Silicone-Case-Cover-For-Samsung-Galaxy-S23-Ultra.png?tr=cm-pad_resize,v-2,w-399,h-654,dpr-1",
        category : "case-cover",
        price : 599,
        prodId : 22,
        quantity : 1
    },
    {
        title : "Carbon Fiber Case For Samsung Galaxy Z Flip 4",
        img : "https://images.dailyobjects.com/marche/product-images/1101/carbon-fiber-case-for-samsung-galaxy-z-flip-4-images/Carbon-Fiber-Case-For-Samsung-Galaxy-Z-Flip-4-2.png?tr=cm-pad_resize,v-2,w-399,h-654,dpr-1",
        category : "case-cover",
        price : 559,
        prodId : 23,
        quantity : 1
    },
    {
        title : "Clear Case For Samsung Galaxy Z Flip 4",
        img : "https://images.dailyobjects.com/marche/product-images/1101/clear-case-for-samsung-galaxy-z-flip-4-images/Clear-Case-For-Samsung-Galaxy-Z-Flip-4-2.png?tr=cm-pad_resize,v-2,w-399,h-654,dpr-1",
        category : "case-cover",
        price : 799,
        prodId : 24,
        quantity : 1
    },
    {
        title : "Mirror Case Cover For OnePlus Nord 2T",
        img : "https://images.dailyobjects.com/marche/product-images/1101/dailyobjects-mirror-case-cover-for-oneplus-nord-2t-images/Dailyobjects-Mirror-Case-Cover-For-OnePlus-Nord-2T.png?tr=cm-pad_resize,v-2,w-399,h-654,dpr-1",
        category : "case-cover",
        price : 759,
        prodId : 25,
        quantity : 1
    },
    {
        title : "Another One Glass Case Cover For OnePlus 10R",
        img : "https://images.dailyobjects.com/marche/product-images/1101/dailyobjects-another-one-glass-case-cover-for-oneplus-10r-images/DailyObjects-Another-One-Glass-Case-Cover-For-OnePlus-10R-vw.png?tr=cm-pad_resize,v-2,w-399,h-654,dpr-1",
        category : "case-cover",
        price : 779,
        prodId : 26,
        quantity : 1
    },
    {
        title : "Camouflage Army Glass Case Cover For Xiaomi 11T Pro",
        img : "https://images.dailyobjects.com/marche/product-images/1101/dailyobjects-camouflage-army-glass-case-cover-for-xiaomi-11t-pro-images/DailyObjects-Camouflage-Army-Glass-Case-Cover-For-Xiaomi-11T-Pro.png?tr=cm-pad_resize,v-2,w-399,h-654,dpr-1",
        category : "case-cover",
        price : 899,
        prodId : 27,
        quantity : 1
    },
    {
        title : "Beach Marble Glass Case Cover For Xiaomi Redmi K40",
        img : "https://images.dailyobjects.com/marche/product-images/1101/dailyobjects-beach-marble-glass-case-cover-for-xiaomi-redmi-k40-images/DailyObjects-Beach-Marble-Glass-Case-Cover-For-Xiaomi-Redmi-K40.png?tr=cm-pad_resize,v-2,w-399,h-654,dpr-1",
        category : "case-cover",
        price : 899,
        prodId : 28,
        quantity : 1
    },
    {
        title : "Glass Case Cover For Oppo Reno 8 Pro Plus",
        img : "https://images.dailyobjects.com/marche/product-images/1101/dailyobjects-constellation-marble-glass-case-cover-for-oppo-reno-8-pro-plus-images/DailyObjects-Constellation-Marble-Glass-Case-Cover-For-Oppo-Reno-8-Pro-Plus.png?tr=cm-pad_resize,v-2,w-399,h-654,dpr-1",
        category : "case-cover",
        price : 999,
        prodId : 29,
        quantity : 1
    },
    {
        title : "Black Hybrid Clear Case Cover for Google Pixel 6",
        img : "https://images.dailyobjects.com/marche/product-images/1101/dailyobjects-black-hybrid-clear-case-cover-for-google-pixel-6-images/DailyObjects-Black-Hybrid-Clear-Case-Cover-for-Google-Pixel-6.png?tr=cm-pad_resize,v-2,w-399,h-654,dpr-1",
        category : "case-cover",
        price : 999,
        prodId : 30,
        quantity : 1
    },
   
]


let container = document.getElementById("container");

let cartData = JSON.parse(localStorage.getItem("cart-data")) || []
console.log(cartData)
let filtered = document.getElementById("filter");
filtered.addEventListener("change",function(){
    if(filtered.value ==""){
        DisplayProduct(products)
    }else{
        let filteredData = products.filter(function(product){
            return product.category == filtered.value
        })
        DisplayProduct(filteredData)
    }
})


function DisplayProduct(data){
    container.innerHTML = ""
    products.forEach(function(ele){
        let card = document.createElement("div");
        
        let image = document.createElement("img");
        image.setAttribute("src",ele.img);

        let name = document.createElement("h2");
        name.innerText = ele.title;

        let category = document.createElement("h5");
        category.innerText = ele.category

        let price = document.createElement("h2");
        price.innerText = ele.price;
        
        let addToCart = document.createElement("button");
        addToCart.innerText = "Add To Cart"

        addToCart.addEventListener("click",function(){
            if(checkAvailable(ele)){
                alert("product already added in cart")
            }else{
                cartData.push(ele);
                localStorage.setItem("cart-data",JSON.stringify(cartData));
                alert("Product added to cart")
            }
        })

        let buyNow = document.createElement("button");
        buyNow.innerText = "Buy Now"

        buyNow.addEventListener("click",function(){
            window.location.href = "buy.html"
        })

        card.append(image,name,category,price,addToCart,buyNow)
        container.append(card);
    })
}

function checkAvailable(ele){
    for(let i=0;i<cartData.length;i++){
      if(ele.prodId == cartData[i].prodId){
        return true;
      }
    }
    return false;
  }

DisplayProduct(products);
